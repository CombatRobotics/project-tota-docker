{
    "name": "Humble Harmonic",
    "build": {
        "dockerfile": "Dockerfile.full",
        "context": ".",
        "args": {
            "UBUNTU_IMAGE": "ubuntu:22.04",
            "UBUNTU_TAG": "ubuntu-cv:latest",
            "BASE_IMAGE": "ros-base:amd64",
            "DEV_IMAGE": "ros-dev:amd64",
            "TARGETARCH": "amd64",
            "WORKSPACE_PATH": "/ros2ws",
            "GZ_ROS2_CONTROL_WS": "/opt/gz_ros2_control_ws",
            "INSTALL_CLAUDE": "false",
            "FIX_QT_FLICKERING": "false",
            "ROS_DOMAIN_ID": "0",
            "ROS_LOCALHOST_ONLY": "0",
            "USERNAME": "user",
            "USER_UID": "1000",
            "USER_GID": "1000",
            "ENABLE_CV": "true",
            "CV_USE_CUDA": "true"
        },
        "target": "tota"
    },
    "initializeCommand": [
        "/bin/bash",
        "-lc",
        ".devcontainer/scripts/build-images.sh"
    ],
    "workspaceFolder": "/ros2ws",
    "workspaceMount": "source=${localWorkspaceFolder},target=${containerWorkspaceFolder},type=bind",
    "customizations": {
        "vscode": {
            "settings": {
                "terminal.integrated.cwd": "${workspaceFolder}"
            }
        }
    },
    "runArgs": [
        "--gpus=all",
        "--network=host",
        "--privileged",
        "--ipc=host",
        "--pid=host"
    ],
    "containerEnv": {
        "DISPLAY": "${localEnv:DISPLAY}",
        "GZ_VERSION": "harmonic",
        "NVIDIA_VISIBLE_DEVICES": "all",
        "NVIDIA_DRIVER_CAPABILITIES": "compute,utility,graphics"
    },
    "mounts": [
        "type=bind,source=/tmp/.X11-unix,target=/tmp/.X11-unix,consistency=cached",
        "type=bind,source=/dev/dri,target=/dev/dri",
        "source=claude-config,target=${containerWorkspaceFolder}/.claude-config,type=volume"
    ],
    "postCreateCommand": "sudo apt-get update && echo 'ROS2 Humble + Gazebo Harmonic + gz_ros2_control ready!'",
    "postStartCommand": "touch ~/.Xauthority && xhost +local: 2>/dev/null || true",
    "remoteUser": "user",
    "containerWorkspaceFolder": "/ros2ws"
}